(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{388:function(s,t,a){"use strict";a.r(t);var e=a(45),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"gopg-db-crud"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gopg-db-crud"}},[s._v("#")]),s._v(" GOPG + DB CRUD")]),s._v(" "),a("h2",{attrs:{id:"postgres"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#postgres"}},[s._v("#")]),s._v(" Postgres")]),s._v(" "),a("p",[s._v("[PostgreSQL](https://www.postgresql.org/은 오픈소스 객체-관계형 데이터베이스 시스템(ORDBMS)으로 뛰어난 성능을 자랑한다. 다른 관계형 데이터베이스 시스템과 달리 연산자, 복합 자료형, 집계 함수, 자료형 변환자, 확장 기능 등 다양한 데이터베이스 객체를 사용자가 임의로 만들 수 있는 기능을 제공함으로써 마치 새로운 하나의 프로그래밍 언어처럼 무한한 기능을 손쉽게 구현할 수 있다.")]),s._v(" "),a("h3",{attrs:{id:"설치하기"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#설치하기"}},[s._v("#")]),s._v(" 설치하기")]),s._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://www.enterprisedb.com/downloads/postgres-postgresql-downloads",target:"_blank",rel:"noopener noreferrer"}},[s._v("Postgres 다운로드"),a("OutboundLink")],1),s._v(" 에서 운영체제에 맞게 다운로드를 받는다.")]),s._v(" "),a("li",[s._v("비밀번호 설정은 superuser(postgres)계정에 대한 비밀번호다.")]),s._v(" "),a("li",[s._v("port 는 default가 5432기 때문에 그대로 두는게 좋다.")]),s._v(" "),a("li",[s._v("locale을 설정해주는 부분은 Korean, Korea를 선택해주자.")])]),s._v(" "),a("p",[s._v("GUI툴은 pgAdmin4 대신 "),a("a",{attrs:{href:"https://tableplus.com/windows",target:"_blank",rel:"noopener noreferrer"}},[s._v("TablePlus"),a("OutboundLink")],1),s._v("를 추천한다."),a("br"),s._v("\n설치가 완료 되었으면 SQL SHELL(psql)")]),s._v(" "),a("h3",{attrs:{id:"role-권한-확인-및-role-추가"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#role-권한-확인-및-role-추가"}},[s._v("#")]),s._v(" Role 권한 확인 및 Role 추가")]),s._v(" "),a("p",[s._v("Role 정보 불러오기")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" pg_roles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--현재 Postgresql DB의 계정 및 Role 권한 정보를 확인할 수 있다.")]),s._v("\n\\du\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--role에 부여된 스키마 권한을 확인할 수 있다.")]),s._v("\n\\z\n")])])]),a("p",[s._v("role 생성하기")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" ROLE name "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WITH")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("option")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),a("p",[s._v("role 삭제하기")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" ROLE "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("role name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//삭제할 Role이 없을 경우 오류를 피할수 있다.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" ROLE "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("role name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("admin 이름으로 "),a("code",[s._v("LOGIN")]),s._v(", "),a("code",[s._v("CREATEDB")]),s._v(" 권한을 추가해준다.")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" ROLE admin "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WITH")]),s._v(" LOGIN CREATEDB PASSWORD "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'C18H27NO3'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[a("code",[s._v("role")]),s._v("에 관한 자세한 정보는 "),a("a",{attrs:{href:"https://www.postgresql.org/docs/12/sql-createrole.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("create role"),a("OutboundLink")],1),s._v("에서 확인 가능하다.")]),s._v(" "),a("h3",{attrs:{id:"user-확인-및-생성"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#user-확인-및-생성"}},[s._v("#")]),s._v(" User 확인 및 생성")]),s._v(" "),a("p",[s._v("user 정보 불러오기")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" pg_user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("user 생성하기")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" name "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WITH")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("option")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" master_user "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WITH")]),s._v(" PASSWORD "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'password'")]),s._v(" ROLE admin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" master_user "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WITH")]),s._v(" PASSWORD "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'C18H27NO3'")]),s._v(" ROLE admin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[a("code",[s._v("user")]),s._v("에 관한 자세한 정보는 "),a("a",{attrs:{href:"https://www.postgresql.org/docs/12/sql-createuser.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("create user"),a("OutboundLink")],1),s._v("에서 확인 가능하다.")])])}),[],!1,null,null,null);t.default=r.exports}}]);