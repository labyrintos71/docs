<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Kotlin 문법 - 위임 | Labyrintos71&#39;s Docs</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="docs with vuepress">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/docs/assets/css/0.styles.156e236d.css" as="style"><link rel="preload" href="/docs/assets/js/app.9ec738af.js" as="script"><link rel="preload" href="/docs/assets/js/2.8740eb56.js" as="script"><link rel="preload" href="/docs/assets/js/37.7b8b842b.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.cb90e021.js"><link rel="prefetch" href="/docs/assets/js/11.52006c39.js"><link rel="prefetch" href="/docs/assets/js/12.2f6fda33.js"><link rel="prefetch" href="/docs/assets/js/13.5dba7c13.js"><link rel="prefetch" href="/docs/assets/js/14.a6f1d96e.js"><link rel="prefetch" href="/docs/assets/js/15.42009d6e.js"><link rel="prefetch" href="/docs/assets/js/16.09dcdbac.js"><link rel="prefetch" href="/docs/assets/js/17.283ab3b0.js"><link rel="prefetch" href="/docs/assets/js/18.d3f3cd4a.js"><link rel="prefetch" href="/docs/assets/js/19.c5f4545b.js"><link rel="prefetch" href="/docs/assets/js/20.569c758a.js"><link rel="prefetch" href="/docs/assets/js/21.f209c001.js"><link rel="prefetch" href="/docs/assets/js/22.c8313833.js"><link rel="prefetch" href="/docs/assets/js/23.1da64bbd.js"><link rel="prefetch" href="/docs/assets/js/24.a70523e5.js"><link rel="prefetch" href="/docs/assets/js/25.a1dc5394.js"><link rel="prefetch" href="/docs/assets/js/26.05cb28ee.js"><link rel="prefetch" href="/docs/assets/js/27.f0605b54.js"><link rel="prefetch" href="/docs/assets/js/28.0063dc56.js"><link rel="prefetch" href="/docs/assets/js/29.0c5a26b7.js"><link rel="prefetch" href="/docs/assets/js/3.687b939c.js"><link rel="prefetch" href="/docs/assets/js/30.e5f8cab6.js"><link rel="prefetch" href="/docs/assets/js/31.873dd8da.js"><link rel="prefetch" href="/docs/assets/js/32.c1ad188c.js"><link rel="prefetch" href="/docs/assets/js/33.6c831e82.js"><link rel="prefetch" href="/docs/assets/js/34.26ae6b14.js"><link rel="prefetch" href="/docs/assets/js/35.fdd56b3b.js"><link rel="prefetch" href="/docs/assets/js/36.76eaa128.js"><link rel="prefetch" href="/docs/assets/js/38.77a6b056.js"><link rel="prefetch" href="/docs/assets/js/39.d376624a.js"><link rel="prefetch" href="/docs/assets/js/4.66cf2b18.js"><link rel="prefetch" href="/docs/assets/js/40.9a19af1f.js"><link rel="prefetch" href="/docs/assets/js/41.d90bfe99.js"><link rel="prefetch" href="/docs/assets/js/42.06ed4f23.js"><link rel="prefetch" href="/docs/assets/js/43.5fcd743c.js"><link rel="prefetch" href="/docs/assets/js/44.c48a474c.js"><link rel="prefetch" href="/docs/assets/js/45.584bdafe.js"><link rel="prefetch" href="/docs/assets/js/46.dc254832.js"><link rel="prefetch" href="/docs/assets/js/47.6de23ee5.js"><link rel="prefetch" href="/docs/assets/js/48.8a708e85.js"><link rel="prefetch" href="/docs/assets/js/49.a4b1600d.js"><link rel="prefetch" href="/docs/assets/js/5.729974e5.js"><link rel="prefetch" href="/docs/assets/js/50.7c83830e.js"><link rel="prefetch" href="/docs/assets/js/51.58708a54.js"><link rel="prefetch" href="/docs/assets/js/52.eeaf96a9.js"><link rel="prefetch" href="/docs/assets/js/53.f3de5963.js"><link rel="prefetch" href="/docs/assets/js/6.aa72b1f7.js"><link rel="prefetch" href="/docs/assets/js/7.13287087.js"><link rel="prefetch" href="/docs/assets/js/8.5f2eb7f7.js"><link rel="prefetch" href="/docs/assets/js/9.18840fa1.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.156e236d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">Labyrintos71's Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/kotlin/" class="nav-link router-link-active">
  Kotlin
</a></div><div class="nav-item"><a href="/docs/android/" class="nav-link">
  Android
</a></div><div class="nav-item"><a href="/docs/flutter/" class="nav-link">
  Flutter
</a></div><div class="nav-item"><a href="/docs/nodejs/" class="nav-link">
  NodeJS
</a></div><div class="nav-item"><a href="/docs/vuejs/" class="nav-link">
  VueJS
</a></div><div class="nav-item"><a href="/docs/electron/" class="nav-link">
  Electron
</a></div><div class="nav-item"><a href="/docs/golang/" class="nav-link">
  Golang
</a></div><div class="nav-item"><a href="https://github.com/labyrintos71/docs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/kotlin/" class="nav-link router-link-active">
  Kotlin
</a></div><div class="nav-item"><a href="/docs/android/" class="nav-link">
  Android
</a></div><div class="nav-item"><a href="/docs/flutter/" class="nav-link">
  Flutter
</a></div><div class="nav-item"><a href="/docs/nodejs/" class="nav-link">
  NodeJS
</a></div><div class="nav-item"><a href="/docs/vuejs/" class="nav-link">
  VueJS
</a></div><div class="nav-item"><a href="/docs/electron/" class="nav-link">
  Electron
</a></div><div class="nav-item"><a href="/docs/golang/" class="nav-link">
  Golang
</a></div><div class="nav-item"><a href="https://github.com/labyrintos71/docs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Kotlin</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/kotlin/" aria-current="page" class="sidebar-link">시작하기</a></li><li><a href="/docs/kotlin/variable.html" class="sidebar-link">Kotlin 문법 - 변수</a></li><li><a href="/docs/kotlin/ifwhen.html" class="sidebar-link">Kotlin 문법 - 제어흐름</a></li><li><a href="/docs/kotlin/classobject.html" class="sidebar-link">Kotlin 문법 - 클래스 &amp; 오브젝트</a></li><li><a href="/docs/kotlin/function.html" class="sidebar-link">Kotlin 문법 - 함수</a></li><li><a href="/docs/kotlin/extensionfunction.html" class="sidebar-link">Kotlin 문법 - 범위지정함수</a></li><li><a href="/docs/kotlin/delegation.html" aria-current="page" class="active sidebar-link">Kotlin 문법 - 위임</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/kotlin/delegation.html#위임-프로퍼티-delegation-property" class="sidebar-link">위임 프로퍼티(Delegation-property)</a></li><li class="sidebar-sub-header"><a href="/docs/kotlin/delegation.html#lazy" class="sidebar-link">Lazy</a></li><li class="sidebar-sub-header"><a href="/docs/kotlin/delegation.html#observable" class="sidebar-link">Observable</a></li><li class="sidebar-sub-header"><a href="/docs/kotlin/delegation.html#map" class="sidebar-link">Map</a></li></ul></li><li><a href="/docs/kotlin/selenium.html" class="sidebar-link">Selenium</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Coroutine</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Android</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Flutter</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NodeJS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>VueJS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Electron</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Golang</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Tradingview</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/tradingview/" class="sidebar-link">시작하기</a></li><li><a href="/docs/tradingview/udf.html" class="sidebar-link">UDF-Reference</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="kotlin-문법-위임"><a href="#kotlin-문법-위임" class="header-anchor">#</a> Kotlin 문법 - 위임</h1> <p>Delegation은 구현해야 할 추상 메소드 또는 프로퍼티의 정의를 다른 객체에 떠넘기는 방법이다.</p> <p>코틀린에서는 자바와 달리 기본적으로 모든 클래스가 final 이다.
이는 상속에서 발생하는 종속성, 의존성 문제를 방지하기 위해 클래스 상속을 불가능하게 되어있다. (원한다면 상속될 클래스에 open을 명시해주면 가능하다. )</p> <p>Delegation은 주로 상속을 허용하지 않는 클래스에 새로운 동작을 추가해야 할 때 또는 메소드의 동작을 변경하고 싶을 때 사용한다.</p> <p>위 예제에서 HouseBlend를 Espresso를 상속받아 구현하고 싶다고 하자. Espresso는 open 키워드가 없기 때문에 final 선언이므로 상속이 불가 하다.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> Coffee <span class="token punctuation">{</span>
    <span class="token keyword">abstract</span> <span class="token keyword">fun</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String
    <span class="token keyword">abstract</span> <span class="token keyword">fun</span> <span class="token function">cost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Double
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token function">Espresso</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">Coffee</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string">&quot;에스프레소&quot;</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">cost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Double <span class="token operator">=</span> <span class="token number">1.99</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> HouseBlend <span class="token operator">:</span> <span class="token function">Espresso</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">// 에러!</span>
    <span class="token keyword">val</span> kind <span class="token operator">=</span> <span class="token string">&quot;하우스 블렌드 커피&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>따라서 상속하고싶은 클래스와 동일한 인터페이스를 구현하는 새로운 클래스를 만들고 상속하고 싶은 클래스는 내부에 멤버 변수로 가지는 방식으로 구현해야 한다.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">class</span> HouseBlend <span class="token operator">:</span> Coffee <span class="token punctuation">{</span>
    <span class="token keyword">val</span> kind <span class="token operator">=</span> <span class="token string">&quot;하우스 블렌드 커피&quot;</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string">&quot;에스프레소&quot;</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">cost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Double <span class="token operator">=</span> <span class="token number">1.99</span>
<span class="token punctuation">}</span>
</code></pre></div><h1 id="by"><a href="#by" class="header-anchor">#</a> by</h1> <p>by 키워드는 구현되어야 할 추상 메소드들을 명시된 객체로 구현을 위임한다는 사실을 나타낸다. by 키워드를 사용하면 위의 코드도 간단하게 작업 가능하다.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">class</span> <span class="token function">HouseBlend</span><span class="token punctuation">(</span><span class="token keyword">val</span> espresso<span class="token operator">:</span> Coffee<span class="token punctuation">)</span> <span class="token operator">:</span> Coffee <span class="token keyword">by</span> espresso <span class="token punctuation">{</span>
    <span class="token keyword">val</span> kind <span class="token operator">=</span> <span class="token string">&quot;하우스 블렌드 커피&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="왜-이렇게-사용할까"><a href="#왜-이렇게-사용할까" class="header-anchor">#</a> 왜 이렇게 사용할까?</h3> <p>상속은 클래스의 변수와 메소드를 모두 받기 때문에 재구현할 필요가 없어서 편리하다. 하지만 올바르지 않은 상속은 많은 문제를 일으키는데 그중 하나가 객체의 유연성을 떨어트리는것 이다. 보통 부모와 자식 클래스가 밀접한 관계며 비슷한 상속을 받게 될때 유연하게 만들기 위해 사용한다.
이 외에도 상속받을수 없는 클래스를 상속받고자 할 떄 사용한다.</p> <h2 id="위임-프로퍼티-delegation-property"><a href="#위임-프로퍼티-delegation-property" class="header-anchor">#</a> 위임 프로퍼티(Delegation-property)</h2> <p>위임 프로퍼티란 프로퍼티의 접근자 게터와 세터를 다른객체로 위임하는 방식을 말한다.
프로퍼티의 값을 변경하거나 읽어올 때 작업이 필요할 떄 사용하는데 아래처럼 by 키워드를 사용해 이용가능하다.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">class</span> <span class="token function">Delegator</span><span class="token punctuation">(</span><span class="token keyword">var</span> value<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">operator</span> <span class="token keyword">fun</span> <span class="token function">getValue</span><span class="token punctuation">(</span>thisRef<span class="token operator">:</span> Any<span class="token operator">?</span><span class="token punctuation">,</span> property<span class="token operator">:</span> KProperty<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">{</span>
            <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;<span class="token interpolation"><span class="token delimiter variable">${</span>property<span class="token punctuation">.</span>name<span class="token delimiter variable">}</span></span> get! <span class="token interpolation variable">$value</span>&quot;</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> value
    <span class="token punctuation">}</span>
    <span class="token keyword">operator</span> <span class="token keyword">fun</span> <span class="token function">setValue</span><span class="token punctuation">(</span>thisRef<span class="token operator">:</span> Any<span class="token operator">?</span><span class="token punctuation">,</span> property<span class="token operator">:</span> KProperty<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> newValue<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;<span class="token interpolation"><span class="token delimiter variable">${</span>property<span class="token punctuation">.</span>name<span class="token delimiter variable">}</span></span> set! <span class="token interpolation variable">$newValue</span>&quot;</span><span class="token punctuation">)</span>
        value <span class="token operator">=</span> newValue
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">,</span> age<span class="token operator">:</span> Int<span class="token punctuation">,</span> salary<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>    
    <span class="token keyword">var</span> age<span class="token operator">:</span> Int <span class="token keyword">by</span> <span class="token function">Delegator</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span>
    <span class="token keyword">var</span> salary<span class="token operator">:</span> Int <span class="token keyword">by</span> <span class="token function">Delegator</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> p <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Monguse&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
    p<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">21</span>
    p<span class="token punctuation">.</span>salary <span class="token operator">=</span> <span class="token number">2100</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;<span class="token interpolation"><span class="token delimiter variable">${</span>p<span class="token punctuation">.</span>name<span class="token delimiter variable">}</span></span> - age: <span class="token interpolation"><span class="token delimiter variable">${</span>p<span class="token punctuation">.</span>age<span class="token delimiter variable">}</span></span>, salary: <span class="token interpolation"><span class="token delimiter variable">${</span>p<span class="token punctuation">.</span>salary<span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-kotlin extra-class"><pre class="language-kotlin"><code>age <span class="token keyword">set</span><span class="token operator">!</span> <span class="token number">21</span>
salary <span class="token keyword">set</span><span class="token operator">!</span> <span class="token number">2100</span>
age <span class="token keyword">get</span><span class="token operator">!</span> <span class="token number">21</span>
salary <span class="token keyword">get</span><span class="token operator">!</span> <span class="token number">2100</span>
Monguse <span class="token operator">-</span> age<span class="token operator">:</span> <span class="token number">21</span><span class="token punctuation">,</span> salary<span class="token operator">:</span> <span class="token number">2100</span>
</code></pre></div><h2 id="lazy"><a href="#lazy" class="header-anchor">#</a> Lazy</h2> <p>lazy()는 람다를 받아 지연 프로퍼티를 구현한 대리자인 Lazy<T>의 인스턴스를 반환한다.<br>
get()을 처음 호출하면 lazy()에 전달한 람다가 실행되고, 그 결과가 저장된다.<br>
이후에 get()을 호출하면 저장한 값을 반환한다.</T></p> <p>간단하게 말하자면 지연초기화 이다. var 에서 사용했던 lateinit에 val 버젼이라고 생각하면된다.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> lazyValue<span class="token operator">:</span> String <span class="token keyword">by</span> lazy <span class="token punctuation">{</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;computed!&quot;</span><span class="token punctuation">)</span>
    <span class="token string">&quot;Hello&quot;</span>
<span class="token punctuation">}</span>

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">println</span><span class="token punctuation">(</span>lazyValue<span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span>lazyValue<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>출력은 아래와 같다.</p> <div class="language- extra-class"><pre class="language-text"><code>computed!
Hello
Hello
</code></pre></div><h2 id="observable"><a href="#observable" class="header-anchor">#</a> Observable</h2> <p>코틀린에서는 프로퍼티에 값이 할당될 때 처리할 메서드를 등록할 수 있는 메서드를 제공한다. 바로 'Delegates.obsevable()' 메서드이다. observable() 메서드는 람다 식을 파라미터로 전달받아 setValue() 메서드가 구현된 객체를 반환한다. 그래서 위임 프로퍼티 예제와 같은 기능을 하는 코드를 'Delegator' 클래스의 구현 없이 아래와 같이 간단하게 구현할 수 있다.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">import</span> kotlin<span class="token punctuation">.</span>properties<span class="token punctuation">.</span>Delegates

<span class="token keyword">class</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">,</span> age<span class="token operator">:</span> Int<span class="token punctuation">,</span> salary<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>    
    <span class="token keyword">var</span> age<span class="token operator">:</span> Int <span class="token keyword">by</span> Delegates<span class="token punctuation">.</span><span class="token function">observable</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        prop<span class="token punctuation">,</span> old<span class="token punctuation">,</span> new <span class="token operator">-&gt;</span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;<span class="token interpolation"><span class="token delimiter variable">${</span>prop<span class="token punctuation">.</span>name<span class="token delimiter variable">}</span></span> set! <span class="token interpolation variable">$old</span>-&gt;<span class="token interpolation variable">$new</span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> salary<span class="token operator">:</span> Int <span class="token keyword">by</span> Delegates<span class="token punctuation">.</span><span class="token function">observable</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        prop<span class="token punctuation">,</span> old<span class="token punctuation">,</span> new <span class="token operator">-&gt;</span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;<span class="token interpolation"><span class="token delimiter variable">${</span>prop<span class="token punctuation">.</span>name<span class="token delimiter variable">}</span></span> set! <span class="token interpolation variable">$old</span>-&gt;<span class="token interpolation variable">$new</span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> p <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Monguse&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
    p<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">21</span>
    p<span class="token punctuation">.</span>salary <span class="token operator">=</span> <span class="token number">2100</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="map"><a href="#map" class="header-anchor">#</a> Map</h2> <p>Map 과 MutableMap 인터페이스는  getValue()와 setValue()에 대한 확장함수를 제공한다. 즉 위임이 가능하다.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">class</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token keyword">val</span> map<span class="token operator">:</span> MutableMap<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Any<span class="token operator">?</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> name<span class="token operator">:</span> String <span class="token keyword">by</span> map
    <span class="token keyword">var</span> age<span class="token operator">:</span> Int<span class="token operator">?</span> <span class="token keyword">by</span> map
    <span class="token keyword">var</span> salary<span class="token operator">:</span> Int <span class="token keyword">by</span> map
<span class="token punctuation">}</span>

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> p <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token function">mutableMapOf</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span> <span class="token keyword">to</span> <span class="token string">&quot;Monguse&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span> <span class="token keyword">to</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&quot;salary&quot;</span> <span class="token keyword">to</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    p<span class="token punctuation">.</span>salary <span class="token operator">=</span> <span class="token number">2100</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;name: <span class="token interpolation"><span class="token delimiter variable">${</span>p<span class="token punctuation">.</span>name<span class="token delimiter variable">}</span></span>, age: <span class="token interpolation"><span class="token delimiter variable">${</span>p<span class="token punctuation">.</span>age<span class="token delimiter variable">}</span></span>, salary: <span class="token interpolation"><span class="token delimiter variable">${</span>p<span class="token punctuation">.</span>salary<span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/kotlin/extensionfunction.html" class="prev">
        Kotlin 문법 - 범위지정함수
      </a></span> <span class="next"><a href="/docs/kotlin/selenium.html">
        Selenium
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.9ec738af.js" defer></script><script src="/docs/assets/js/2.8740eb56.js" defer></script><script src="/docs/assets/js/37.7b8b842b.js" defer></script>
  </body>
</html>
